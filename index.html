<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LoL Kiting Bot | KontrollÃ¼ EriÅŸim</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <header id="header">
    <nav>
        <div class="logo">KITE.BOT</div>
        <ul>
            <li><a href="#about" class="nav-link active" data-page="about">HakkÄ±nda</a></li>
            <li><a href="#patchnotes" class="nav-link" data-page="patchnotes">Yama NotlarÄ±</a></li> 
            
            <li><a href="#guide" class="nav-link" data-page="guide">KullanÄ±m KÄ±lavuzu</a></li>

            <li id="nav-login"><a href="#auth" class="nav-link" data-page="auth">GiriÅŸ / KayÄ±t</a></li>
            <li id="nav-profile" style="display: none;"><a href="#profile" class="nav-link" data-page="profile">Profil & Key</a></li>
            <li id="nav-feedback" style="display: none;"><a href="#feedback" class="nav-link" data-page="feedback">Geri Bildirim</a></li>
            <li id="nav-download" style="display: none;"><a href="#download" class="nav-link" data-page="download">Ä°ndir & Kurulum</a></li>
        </ul>
    </nav>
</header>

    <main id="content-area">
        
        <section id="about" class="page active">
            <div class="container">
                <h1>League of Legends Kiting Bot</h1>
                <p class="subtitle">ADC performansÄ±nÄ±zÄ± kusursuz zamanlama ile zirveye taÅŸÄ±yÄ±n.</p>
                
                <div class="features-grid">
                    <div class="feature-item">
                        <h3>ğŸ¤– GeliÅŸmiÅŸ GÃ¼venlik</h3>
                        <p>Gaussian Jitter, kasÄ±tlÄ± hata simÃ¼lasyonu ve Key korumasÄ± ile Vanguard'a direnÃ§.</p>
                    </div>
                    <div class="feature-item">
                        <h3>ğŸ”‘ KontrollÃ¼ DaÄŸÄ±tÄ±m</h3>
                        <p>Botu kullanmak iÃ§in 3 gÃ¼nlÃ¼k deneme key'i gereklidir. EriÅŸim sadece kayÄ±tlÄ± kullanÄ±cÄ±lara aÃ§Ä±ktÄ±r.</p>
                    </div>
                    <div class="feature-item">
                        <h3>âœ¨ Modern ArayÃ¼z</h3>
                        <p>TTK Bootstrap ile tasarlanmÄ±ÅŸ, kullanÄ±mÄ± kolay, ÅŸÄ±k ve koyu tema destekli GUI.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="patchnotes" class="page hidden">
            <div class="container">
                <h2>Yama NotlarÄ± (Patch Notes)</h2>
                <p class="subtitle">Botun tÃ¼m geliÅŸtirme ve gÃ¼venlik gÃ¼ncellemelerini buradan takip edebilirsiniz.</p>

                <div class="patch-version">
                    <h3>V0.1.3 - GÃ¼venlik & Performans Optimizasyonu</h3>
                    <span class="patch-date">15 Ekim 2025</span>
                    <ul class="patch-list">
                        <li class="added">ğŸ”‘ Yeni: Key (Lisans) sistemi iÃ§in altyapÄ± entegre edildi.</li>
                        <li class="added">ğŸ¤– GeliÅŸtirildi: Kiting gecikmeleri iÃ§in rastgelelik daÄŸÄ±lÄ±mÄ± (Jitter) **Normal (Gaussian) DaÄŸÄ±lÄ±m** ile deÄŸiÅŸtirildi.</li>
                        <li class="fix">âœ… DÃ¼zeltildi: 'A' tuÅŸu ve SaÄŸ TÄ±k basÄ±lÄ± kalma sÃ¼releri rastgeleleÅŸtirilerek mÃ¼kemmel tutarlÄ±lÄ±k ortadan kaldÄ±rÄ±ldÄ±.</li>
                        <li class="removed">ğŸš¨ GÃ¼venlik: Bot dÃ¶ngÃ¼sÃ¼ne binde bir oranÄ±nda kasÄ±tlÄ± hata atlama mekanizmasÄ± eklendi.</li>
                    </ul>
                </div>
                
                <div class="patch-version">
                    <h3>V0.1.0 - Ä°lk YayÄ±n</h3>
                    <span class="patch-date">01 Ekim 2025</span>
                    <ul class="patch-list">
                        <li class="added">âœ¨ Yeni: Ä°lk sÃ¼rÃ¼m yayÄ±nlandÄ±. Temel orb-walking mantÄ±ÄŸÄ± ve ÅŸampiyon veri tabanÄ± eklendi.</li>
                        <li class="added">ğŸ¨ Yeni: TTK Bootstrap ile modern GUI eklendi.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="guide" class="page hidden">
             <div class="container">
                <h2>KullanÄ±m KÄ±lavuzu</h2>
                
                <h3>1. YapÄ±landÄ±rma</h3>
                <p>ArayÃ¼zde ÅŸampiyonunuzu seÃ§in, seviyenizi ve isteÄŸe baÄŸlÄ± olarak anlÄ±k saldÄ±rÄ± hÄ±zÄ±nÄ±zÄ± (AS) girin. "Delay GÃ¼ncelle" butonuna basmayÄ± unutmayÄ±n!</p>

                <h3>2. BaÅŸlatma/Durdurma (Toggle)</h3>
                <p>LoL oyununuz aÃ§Ä±kken, bot arayÃ¼zÃ¼ odaklanmÄ±ÅŸ durumdayken **Spacebar (BoÅŸluk Ã‡ubuÄŸu)** tuÅŸuna bir kez basarak botu **AÃ‡IN**. Bot otomatik olarak A-TÄ±kla komutlarÄ±nÄ± gÃ¶ndermeye baÅŸlayacaktÄ±r.</p>
                
                <h3>3. Key Aktivasyonu</h3>
                <p>Bot EXE'sini ilk Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nÄ±zda, **Profil & Key** sayfanÄ±zda size verilen Key'i girerek botunuzu etkinleÅŸtirmeniz gerekmektedir.</p>

                <h3>ğŸš¨ UyarÄ±</h3>
                <p class="warning-box">GÃ¼venlik iÃ§in lÃ¼tfen botu sadece LoL penceresi aktif ve odaklanmÄ±ÅŸ durumdayken kullanÄ±n.</p>
            </div>
        </section>

        <section id="auth" class="page hidden">
            <div class="container auth-container">
                <h2 id="auth-title">KullanÄ±cÄ± GiriÅŸi</h2>
                <div class="auth-toggle">
                    <button class="toggle-btn active" onclick="showAuth('login')">GiriÅŸ Yap</button>
                    <button class="toggle-btn" onclick="showAuth('register')">KayÄ±t Ol</button>
                </div>

                <form id="login-form" onsubmit="handleAuth(event, 'login')">
                    <input type="email" id="login-email" placeholder="E-posta Adresi" required>
                    <input type="password" id="login-password" placeholder="Åifre" required>
                    <button type="submit" class="auth-button">GiriÅŸ Yap</button>
                    <p id="login-message" class="message"></p>
                </form>

                <form id="register-form" onsubmit="handleAuth(event, 'register')" style="display: none;">
                    <input type="text" id="register-username" placeholder="KullanÄ±cÄ± AdÄ±" required>
                    <input type="email" id="register-email" placeholder="E-posta Adresi" required>
                    <input type="password" id="register-password" placeholder="Åifre (Min 6 Karakter)" required>
                    <button type="submit" class="auth-button">KayÄ±t Ol</button>
                    <p id="register-message" class="message"></p>
                </form>
            </div>
        </section>

        <section id="profile" class="page hidden">
            <div class="container">
                <h2>Profil ve Key YÃ¶netimi</h2>
                <p>HoÅŸ geldiniz, <span id="profile-username" class="neon-text">KullanÄ±cÄ±AdÄ±</span>!</p>

                <div class="key-status-box">
                    <h3>Deneme Key'iniz</h3>
                    <p class="key-value" id="trial-key">KEY-SIMULATED-E4G-K7L-9A2X</p>
                    <p>GeÃ§erlilik: <span id="key-expiry-date">3 GÃ¼n KaldÄ± (18 Ekim 2025'e kadar)</span></p>
                    <p class="warning-box">**DÄ°KKAT:** Bu Key, botun EXE dosyasÄ±nÄ± Ã§alÄ±ÅŸtÄ±rÄ±rken girmeniz gereken lisans anahtarÄ±nÄ±zdÄ±r.</p>
                </div>

                <button class="download-button" onclick="changePage('download')">Botu Ä°ndir</button>
                <button class="auth-button logout-button" onclick="handleLogout()">Ã‡Ä±kÄ±ÅŸ Yap</button>
            </div>
        </section>

        <section id="feedback" class="page hidden">
            <div class="container">
                <h2>Geri Bildirim AlanÄ±</h2>
                <p class="subtitle">Botun performansÄ±, hatalarÄ± veya geliÅŸtirme Ã¶nerileriniz hakkÄ±nda bize yazÄ±n.</p>
                
                <form id="feedback-form" onsubmit="submitFeedback(event)">
                    <textarea id="feedback-text" rows="8" placeholder="Geri bildiriminizi buraya yazÄ±n..." required></textarea>
                    <div class="feedback-options">
                        <label>
                            <input type="radio" name="feedback-type" value="Hata" required> Hata Bildirimi
                        </label>
                        <label>
                            <input type="radio" name="feedback-type" value="Ã–neri"> Ã–zellik Ã–nerisi
                        </label>
                        <label>
                            <input type="radio" name="feedback-type" value="TeÅŸekkÃ¼r"> TeÅŸekkÃ¼r
                        </label>
                    </div>
                    <button type="submit" class="auth-button">Geri Bildirimi GÃ¶nder</button>
                    <p id="feedback-message" class="message"></p>
                </form>
            </div>
        </section>


        <section id="download" class="page hidden">
            <div class="container">
                <h2>Botu Ä°ndir ve Kurulum</h2>
                <p>Botun en gÃ¼ncel Key korumalÄ± sÃ¼rÃ¼mÃ¼nÃ¼ indirmek iÃ§in aÅŸaÄŸÄ±daki butonu kullanÄ±n.</p>
                
                <a href="/downloads/kite_bot_v0.2.exe" class="download-button" id="final-download-link">
                    Key KorumalÄ± Botu Ä°ndir (v0.2.EXE)
                </a>

                <p class="warning-box">**Ã–nemli:** Ä°ndirdikten sonra EXE dosyasÄ±nÄ± Ã§alÄ±ÅŸtÄ±rÄ±n ve size Profil sayfanÄ±zda verilen Key'i girerek botu etkinleÅŸtirin.</p>
                
                <ol class="setup-list">
                    <li>**Gereksinimler:** Yok (EXE baÄŸÄ±msÄ±z Ã§alÄ±ÅŸÄ±r).</li>
                    <li>Ä°ndirdiÄŸiniz dosyayÄ± gÃ¼venilir bir konuma taÅŸÄ±yÄ±n.</li>
                    <li>Botu Ã§alÄ±ÅŸtÄ±rÄ±n ve Key'inizi girin.</li>
                    <li>Oyun iÃ§indeyken Spacebar ile baÅŸlatÄ±n/durdurun.</li>
                </ol>
            </div>
        </section>

         <section id="guide" class="page hidden">
            <div class="container">
                <h2>KullanÄ±m KÄ±lavuzu</h2>
                
                <h3>1. YapÄ±landÄ±rma</h3>
                <p>ArayÃ¼zde ÅŸampiyonunuzu seÃ§in, seviyenizi ve isteÄŸe baÄŸlÄ± olarak anlÄ±k saldÄ±rÄ± hÄ±zÄ±nÄ±zÄ± (AS) girin. "Delay GÃ¼ncelle" butonuna basmayÄ± unutmayÄ±n!</p>

                <h3>2. BaÅŸlatma/Durdurma (Toggle)</h3>
                <p>LoL oyununuz aÃ§Ä±kken, bot arayÃ¼zÃ¼ odaklanmÄ±ÅŸ durumdayken **Spacebar (BoÅŸluk Ã‡ubuÄŸu)** tuÅŸuna bir kez basarak botu **AÃ‡IN**. Bot otomatik olarak A-TÄ±kla komutlarÄ±nÄ± gÃ¶ndermeye baÅŸlayacaktÄ±r.</p>
                
                <h3>3. Key Aktivasyonu</h3>
                <p>Bot EXE'sini ilk Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nÄ±zda, **Profil & Key** sayfanÄ±zda size verilen Key'i girerek botunuzu etkinleÅŸtirmeniz gerekmektedir.</p>

                <h3>ğŸš¨ UyarÄ±</h3>
                <p class="warning-box">GÃ¼venlik iÃ§in lÃ¼tfen botu sadece LoL penceresi aktif ve odaklanmÄ±ÅŸ durumdayken kullanÄ±n.</p>
            </div>
        </section>

    </main>

    <footer>
        <p>&copy; 2024 Kite Bot Projesi. KontrollÃ¼ DaÄŸÄ±tÄ±m Sistemli.</p>
    </footer>

    <!-- DÄ°KKAT: Normalde bu js/script.js olmalÄ±ydÄ±, ancak API URL'yi kolayca gÃ¶mmek iÃ§in iÃ§eriÄŸi buraya taÅŸÄ±yoruz. -->
    <script>
        // --------------------------------------------------------------------------------
        // CANLI API ADRESÄ° BURADA BELÄ°RLENÄ°R. LÃœTFEN KENDÄ° RENDER URL'NÄ°ZÄ° YAPIÅTIRIN!
        // --------------------------------------------------------------------------------
        // Ã–RNEK: const API_URL = "https://kitebot-api-xxx.onrender.com"; 
        const API_URL = "https://kitebot-api.onrender.com"; 
        
        // Firestore iÃ§in Firebase yapÄ±landÄ±rmasÄ± (KullanÄ±lmÄ±yor, ancak API baÄŸlantÄ±sÄ± iÃ§in gereksiz)
        // const __app_id = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        // const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        // const __initial_auth_token = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        // Firebase kÃ¼tÃ¼phaneleri (Sadece API URL iÃ§in gerekli deÄŸil, sadece iskeletini tutuyoruz)
        // import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        // import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        // import { getFirestore, doc, setDoc, updateDoc, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        let user = null;
        let isAuthReady = false;

        // Sayfa DeÄŸiÅŸtirme Fonksiyonu
        function changePage(targetId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });
            document.getElementById(targetId).classList.remove('hidden');

            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            document.querySelector(`[data-page='${targetId}']`).classList.add('active');
        }

        // Oturum Durumuna GÃ¶re Navigasyonu GÃ¼ncelleme
        function updateNavigation(currentUser) {
            if (currentUser) {
                user = currentUser;
                document.getElementById('nav-login').style.display = 'none';
                document.getElementById('nav-profile').style.display = 'block';
                document.getElementById('nav-feedback').style.display = 'block';
                document.getElementById('nav-download').style.display = 'block';

                if (document.getElementById('auth').classList.contains('active')) {
                    changePage('profile');
                }
            } else {
                user = null;
                document.getElementById('nav-login').style.display = 'block';
                document.getElementById('nav-profile').style.display = 'none';
                document.getElementById('nav-feedback').style.display = 'none';
                document.getElementById('nav-download').style.display = 'none';
                if (document.getElementById('profile').classList.contains('active') || document.getElementById('feedback').classList.contains('active') || document.getElementById('download').classList.contains('active')) {
                    changePage('about');
                }
            }
        }

        // GiriÅŸ/KayÄ±t GÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ DeÄŸiÅŸtirme
        function showAuth(type) {
            document.getElementById('auth-title').textContent = type === 'login' ? 'KullanÄ±cÄ± GiriÅŸi' : 'Yeni KayÄ±t';
            document.getElementById('login-form').style.display = type === 'login' ? 'block' : 'none';
            document.getElementById('register-form').style.display = type === 'register' ? 'block' : 'none';

            document.querySelectorAll('.auth-toggle .toggle-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.auth-toggle .toggle-btn:nth-child(${type === 'login' ? 1 : 2})`).classList.add('active');
        }

        // Ã‡Ä±kÄ±ÅŸ Ä°ÅŸlemi
        async function handleLogout() {
            try {
                // Burada Firebase signOut komutu olmalÄ±ydÄ±. API ile sadece state'i gÃ¼ncelliyoruz.
                updateNavigation(null);
                showMessage('login-message', 'BaÅŸarÄ±yla Ã§Ä±kÄ±ÅŸ yapÄ±ldÄ±.', 'success');
                changePage('auth');
            } catch (error) {
                console.error("Ã‡Ä±kÄ±ÅŸ hatasÄ±:", error);
            }
        }

        // API Ã‡aÄŸrÄ±sÄ± YardÄ±mcÄ± Fonksiyon
        async function fetchAPI(endpoint, data = {}) {
            const token = user ? "simulated_token_" + user.uid : ""; 
            const url = `${API_URL}/${endpoint}`;
            const headers = { 'Content-Type': 'application/json' };
            if (token) headers['Authorization'] = `Bearer ${token}`;

            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: headers,
                    body: JSON.stringify(data)
                });

                const json = await response.json();

                if (!response.ok) {
                    throw new Error(json.error || 'Bilinmeyen bir hata oluÅŸtu');
                }
                return json;
            } catch (error) {
                console.error(`API ${endpoint} hatasÄ±:`, error);
                throw error;
            }
        }

        // GiriÅŸ/KayÄ±t Formu Ä°ÅŸleyicisi
        async function handleAuth(event, type) {
            event.preventDefault();
            const email = document.getElementById(`${type}-email`).value;
            const password = document.getElementById(`${type}-password`).value;
            const username = type === 'register' ? document.getElementById('register-username').value : '';
            const messageElement = document.getElementById(`${type}-message`);
            messageElement.textContent = 'Ä°ÅŸleniyor...';
            messageElement.classList.remove('error', 'success');

            try {
                const endpoint = type === 'register' ? 'register' : 'login';
                const data = type === 'register' ? { email, password, username } : { email, password };
                
                const response = await fetchAPI(endpoint, data);

                // BaÅŸarÄ±lÄ± olduÄŸunda simÃ¼le edilmiÅŸ bir kullanÄ±cÄ± oluÅŸtur
                const simulatedUser = { 
                    uid: response.user_id || `simulated_${Math.random().toString(36).substr(2, 9)}`,
                    displayName: response.username || username || email.split('@')[0]
                };

                updateNavigation(simulatedUser);
                showMessage(messageElement.id, response.message || (type === 'register' ? 'KayÄ±t baÅŸarÄ±lÄ±! Profil sayfasÄ±na yÃ¶nlendiriliyorsunuz.' : 'GiriÅŸ baÅŸarÄ±lÄ±!'), 'success');
                
                // Profil sayfasÄ±nÄ± gÃ¼ncelle
                document.getElementById('profile-username').textContent = simulatedUser.displayName;
                document.getElementById('trial-key').textContent = response.key || 'KEY-ALINAMADI-HATA';
                document.getElementById('key-expiry-date').textContent = response.expiry_date || '3 GÃ¼n KaldÄ±';

                setTimeout(() => changePage('profile'), 1500);

            } catch (error) {
                const errorMessage = error.message.includes('network') ? 'Sunucuya ulaÅŸÄ±lamÄ±yor. API URL'sini kontrol edin.' : error.message;
                showMessage(messageElement.id, `Hata: ${errorMessage}`, 'error');
            }
        }

        // Geri Bildirim GÃ¶nderme Ä°ÅŸlemi
        async function submitFeedback(event) {
            event.preventDefault();
            const form = event.target;
            const messageElement = document.getElementById('feedback-message');
            messageElement.textContent = 'GÃ¶nderiliyor...';
            messageElement.classList.remove('error', 'success');

            if (!user) {
                showMessage('feedback-message', 'Hata: Geri bildirim gÃ¶ndermek iÃ§in Ã¶nce giriÅŸ yapmalÄ±sÄ±nÄ±z.', 'error');
                return;
            }

            const feedbackText = document.getElementById('feedback-text').value;
            const feedbackType = form.elements['feedback-type'].value;

            try {
                const response = await fetchAPI('feedback', { 
                    feedback_text: feedbackText, 
                    feedback_type: feedbackType 
                });
                
                showMessage('feedback-message', response.message || 'Geri bildiriminiz baÅŸarÄ±yla iletildi! TeÅŸekkÃ¼r ederiz.', 'success');
                form.reset();
            } catch (error) {
                showMessage('feedback-message', `Hata: ${error.message}`, 'error');
            }
        }

        // Mesaj Kutusu YÃ¶netimi
        function showMessage(elementId, text, type) {
            const element = typeof elementId === 'string' ? document.getElementById(elementId) : elementId;
            element.textContent = text;
            element.classList.remove('error', 'success');
            element.classList.add(type);
        }

        // Sayfa yÃ¼klendiÄŸinde
        document.addEventListener('DOMContentLoaded', () => {
            // Ä°lk sayfa olarak 'about'u gÃ¶ster
            changePage('about');
            
            // Navigasyon linkleri iÃ§in olay dinleyicisi ekle
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('data-page');

                    // GiriÅŸ yapÄ±lmadÄ±ysa ve korumalÄ± sayfaya gidiyorsa
                    if (!user && (targetId === 'profile' || targetId === 'feedback' || targetId === 'download')) {
                        changePage('auth');
                        showMessage('login-message', 'Bu sayfaya eriÅŸim iÃ§in lÃ¼tfen giriÅŸ yapÄ±n veya kayÄ±t olun.', 'error');
                    } else {
                        changePage(targetId);
                    }
                });
            });

            // BaÅŸlangÄ±Ã§ navigasyon durumunu ayarla (Ã‡Ä±kÄ±ÅŸ yapmÄ±ÅŸ kabul ediyoruz)
            updateNavigation(null); 
            isAuthReady = true; 
        });
    </script>
</body>
</html>

